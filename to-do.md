# FileBrowser — UI: план улучшений (приоритеты)

1. Навигация и состояние

- [ ] Сохранение последнего пути и параметров сортировки в localStorage; восстановление при старте.
- [ ] Breadcrumb с контекстным меню на каждом сегменте (быстрый переход/операции над папками).

2. Нотификации и ошибки

- [ ] Показывать `requestId` и кнопку «Скопировать» в подробностях ошибки. (requestId есть в `ApiError`, но не показан в UI)
- [ ] Группировать однотипные ошибки в батч-операциях в одну нотификацию (с разворачиваемыми деталями).
- [ ] Человекочитаемые тексты для частых кодов (`forbidden_root_operation`, `unsupported_type`, `validation_error`, `rate_limited`).

3. Массовые операции (bulk)

- [ ] Модальное окно прогресса с live-логом успехов/ошибок и кнопкой «Скопировать лог».
- [ ] Повторная попытка для упавших элементов и «Повторить все неудачные».
- [ ] Отмена операции для текущего батча.

4. Клавиатурная навигация

- [x] Стрелки — перемещение по списку. (глобальный хоткей, не срабатывает в полях ввода)
- [x] Enter — открыть папку или выделить файл для предпросмотра.
- [x] Backspace — перейти на уровень выше (в родительскую папку).
- [ ] F2 — переименовать.
- [x] Delete — удалить один/несколько выбранных файлов. (реализовано глобальным хоткеем, не срабатывает в полях ввода)
- [ ] Горячие клавиши для массовых операций (с модификаторами Shift/Alt).

5. Быстрые действия с файлами

- [x] «Скопировать публичную ссылку» (`/files/*`) и «Открыть в новой вкладке» в списке/контекстном меню. (реализовано через `ActionsCell.tsx` + `useGetLink()`)

6. Предпросмотр (UX)

- [ ] Предупреждение при `truncated: true` + кнопка «Скачать целиком».
- [ ] Ленивая подгрузка метаданных (например, EXIF) по клику.
- [ ] Плиточный режим (grid) для изображений/медиа с миниатюрами (thumbnails) и быстрым просмотром.

7. Загрузка (uploads)

- [x] Drag & drop на всю область. (поддержка перетаскивания папок — нет)
- [ ] Отмена per-file и «Отменить всё» (AbortController), ретраи для упавших файлов. (частично: есть «Отменить всё», нет per-file и ретраев)
- [ ] Итоговый отчёт по батчу: сколько загружено/ошибок, быстрая очистка очереди. (очередь очищается, но сводки нет)

8. Поиск/фильтрация

- [x] Быстрый клиентский фильтр по имени. (без подсветки — частично)
- [ ] (Далее) Серверный параметр `q` для поиска в больших директориях.

9. Быстрый отклик списков

- [ ] Скелетон-строки и мгновенный показ имён/типов, последующая догрузка размера/mtime.
- [ ] Кеширование недавних листингов на клиенте (TTL) и инвалидация после операций.

10. Подсказки и пустые состояния

- [ ] Пустое состояние с подсказками (drag & drop, горячие клавиши, быстрые действия).
- [ ] Малый прогресс-бар в шапке для долгих операций (не блокировать UI). (частично: прогресс загрузок уже выводится в хедере)

11. Настройки

- [ ] Отображать подсказку «root скрыт (production)» при `rootMasked: true`.
